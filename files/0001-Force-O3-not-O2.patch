From e3e71b9b7ea22c0a1b358b3e9ab44261166ce61c Mon Sep 17 00:00:00 2001
From: Peter O'Connor <peter@solus-project.com>
Date: Tue, 21 Aug 2018 19:21:52 -0400
Subject: [PATCH] Force O3 not O2

Signed-off-by: Peter O'Connor <peter@solus-project.com>
---
 Makefile.generic                        | 2 +-
 Makefile.system                         | 4 ++--
 lapack-netlib/INSTALL/make.inc.gfortran | 2 +-
 lapack-netlib/make.inc.example          | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/Makefile.generic b/Makefile.generic
index a5e50b1..a7e034f 100644
--- a/Makefile.generic
+++ b/Makefile.generic
@@ -1 +1 @@
-COPT	= -Wall -O2 # -DGEMMTEST
+COPT	= -Wall -O3 # -DGEMMTEST
diff --git a/Makefile.system b/Makefile.system
index 4712d95..d30ac18 100644
--- a/Makefile.system
+++ b/Makefile.system
@@ -1121,11 +1121,11 @@ FCOMMON_OPT += -g
 endif
 
 ifndef COMMON_OPT
-COMMON_OPT = -O2
+COMMON_OPT = -O3
 endif
 
 ifndef FCOMMON_OPT
-FCOMMON_OPT = -O2 -frecursive
+FCOMMON_OPT = -O3 -frecursive
 endif
 
 
diff --git a/lapack-netlib/INSTALL/make.inc.gfortran b/lapack-netlib/INSTALL/make.inc.gfortran
index 39d98d4..8887efb 100644
--- a/lapack-netlib/INSTALL/make.inc.gfortran
+++ b/lapack-netlib/INSTALL/make.inc.gfortran
@@ -20,7 +20,7 @@ CFLAGS = -O3
 #  should not compile LAPACK with flags such as -ffpe-trap=overflow.
 #
 FORTRAN = gfortran
-OPTS    = -O2 -frecursive
+OPTS    = -O3 -frecursive
 DRVOPTS = $(OPTS)
 NOOPT   = -O0 -frecursive
 
diff --git a/lapack-netlib/make.inc.example b/lapack-netlib/make.inc.example
index d780c3a..eef22c3 100644
--- a/lapack-netlib/make.inc.example
+++ b/lapack-netlib/make.inc.example
@@ -20,7 +20,7 @@ CFLAGS = -O3
 #  should not compile LAPACK with flags such as -ffpe-trap=overflow.
 #
 FORTRAN = gfortran
-OPTS    = -O2 -frecursive
+OPTS    = -O3 -frecursive
 DRVOPTS = $(OPTS)
 NOOPT   = -O0 -frecursive
 
-- 
2.18.0

